@if (isLoading()) {
  <div class="loading-overlay">
    <mat-spinner></mat-spinner>
  </div>
} @else {
<mat-card class="session-card">
  <mat-card-header>
    <mat-card-title class="card-title center">
      @if (existingSession()) {
          Deine erstellte Session
      } @else {
          Erstelle deine Session
      }
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    @if (!showQrCode()) {
      @if (existingSession()) {
        <p class="existing-session-message">Du hast bereits eine Session erstellt. Hier ist dein QR Code:</p>
      } @else {
        <app-session-form [form]="form" [existingSession]="existingSession()" (onSubmit)="createSession()"></app-session-form>
      }
    } @else {
      <app-session-qr [link]="link" [showQrCode]="showQrCode()" (startNewSession)="startNewSession()"></app-session-qr>
    }
  </mat-card-content>
</mat-card>
<div class="container">
  <button mat-button class="reload-button" (click)="loadCapturedImages()">Bilder neu laden</button>
  @if (capturedImages().length) {
    <mat-card>
      <mat-card-header>
        <mat-card-title>Aufgenomme Bilder</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <app-captured-images [capturedImages]="capturedImages()"></app-captured-images>
      </mat-card-content>
    </mat-card>
  }
</div>
}